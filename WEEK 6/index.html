<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Weather App</title>
<style>
    /* Dark Mode Vibe üåô */
    :root {
        --bg-color: #1a1a2e; /* Dark primary background */
        --card-bg: #2c2c54; /* Darker card background */
        --text-color: #e4e4e4; /* Light text */
        --accent-color: #00bcd4; /* Bright cyan/blue for buttons/accents */
        --shadow-color: rgba(0, 0, 0, 0.4);
        --input-border: #4a4a7a;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        text-align: center;
        margin: 0;
        min-height: 100vh; /* Full viewport height */
        display: flex;
        flex-direction: column;
        justify-content: center; /* Center content vertically */
        align-items: center; /* Center content horizontally */
        background: var(--bg-color);
        color: var(--text-color);
        padding: 20px;
        box-sizing: border-box;
    }

    h1 {
        color: var(--accent-color);
        font-weight: 700;
        margin-bottom: 30px;
        letter-spacing: 1.5px;
    }

    .weather-box {
        margin-top: 30px;
        padding: 30px;
        border-radius: 15px; /* Softer edges */
        background: var(--card-bg);
        box-shadow: 0 8px 15px var(--shadow-color); /* Deeper shadow */
        min-width: 300px;
        max-width: 90%;
        transition: transform 0.3s ease-in-out;
    }

    .weather-box:hover {
        transform: translateY(-5px); /* Little lift on hover */
    }

    /* Input and Button Styling */
    input, button {
        padding: 12px 15px;
        margin: 8px;
        border-radius: 8px;
        font-size: 1em;
        transition: all 0.3s ease;
        box-sizing: border-box;
    }

    input {
        border: 2px solid var(--input-border);
        background: var(--card-bg);
        color: var(--text-color);
        max-width: 250px;
    }

    input::placeholder {
        color: #888;
    }

    button {
        background: var(--accent-color);
        color: var(--bg-color); /* Dark text on bright button */
        border: none;
        font-weight: 600;
        cursor: pointer;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    button:hover {
        background: #00a4b8; /* Slightly darker accent on hover */
        box-shadow: 0 4px 10px rgba(0, 188, 212, 0.4);
    }

    /* Result content styling */
    #weatherResult h2 {
        color: var(--accent-color);
        font-size: 1.8em;
        margin-top: 0;
        border-bottom: 2px solid var(--input-border);
        padding-bottom: 10px;
        margin-bottom: 15px;
    }

    #weatherResult p {
        text-align: left;
        margin: 10px 0;
        padding-left: 10px;
        border-left: 3px solid var(--accent-color);
        font-size: 1.1em;
    }

    #weatherResult p strong {
        font-weight: 600;
        color: var(--text-color);
    }
</style>
</head>
<body>
<h1>Weather Watch üåç</h1>
<input type="text" id="cityInput" placeholder="Enter city name" />
<button id="getWeatherBtn">Get Weather</button>
<div id="weatherResult" class="weather-box">
    </div>
<script>
    const cityInput = document.getElementById("cityInput");
    const getWeatherBtn = document.getElementById("getWeatherBtn");
    const weatherResult = document.getElementById("weatherResult");

    async function fetchWeather(city) {
        try {
            if (!city) {
                weatherResult.innerHTML = "<p>Please enter a city name. üìù</p>";
                return;
            }

            // Simple loading state
            weatherResult.innerHTML = "<p>Fetching data... ‚è≥</p>";
            
            const response = await fetch(`https://wttr.in/${encodeURIComponent(city)}?format=j1`);
            
            if (!response.ok) {
                // Check for 404/city not found specifically if possible, but general error is fine
                throw new Error("City not found or API error.");
            }

            const data = await response.json();
            displayWeather(city, data);
            localStorage.setItem("lastCity", city);

        } catch (error) {
            // Updated error style
            weatherResult.innerHTML = `<p style="color:#ff6b6b; font-weight: 500;">Oof. ${error.message} Try again? üò©</p>`;
        }
    }

    function displayWeather(city, data) {
        const current = data.current_condition[0];

        // Added an emoji based on condition for extra spice
        let icon = '';
        const condition = current.weatherDesc[0].value.toLowerCase();
        if (condition.includes('clear') || condition.includes('sun')) icon = '‚òÄÔ∏è';
        else if (condition.includes('cloud') || condition.includes('overcast')) icon = '‚òÅÔ∏è';
        else if (condition.includes('rain') || condition.includes('drizzle')) icon = 'üåßÔ∏è';
        else if (condition.includes('snow') || condition.includes('sleet')) icon = '‚ùÑÔ∏è';
        else if (condition.includes('thunder')) icon = '‚õàÔ∏è';
        else icon = 'üå°Ô∏è';

        weatherResult.innerHTML = `
            <h2>${icon} ${city}</h2>
            <p><strong>Temperature:</strong> ${current.temp_C} ¬∞C</p>
            <p><strong>Feels Like:</strong> ${current.FeelsLikeC} ¬∞C</p>
            <p><strong>Condition:</strong> ${current.weatherDesc[0].value}</p>
            <p><strong>Humidity:</strong> ${current.humidity}%</p>
            <p><strong>Wind:</strong> ${current.windspeedKmph} km/h</p>
        `;
    }

    getWeatherBtn.addEventListener("click", () => {
        const city = cityInput.value.trim();
        fetchWeather(city);
    });

    // Auto-load last city
    window.onload = () => {
        const lastCity = localStorage.getItem("lastCity");
        if (lastCity) {
            fetchWeather(lastCity);
        } else {
            weatherResult.innerHTML = "<p>Search for a city to get started! üëÜ</p>";
        }
    };
</script>
</body>
</html>